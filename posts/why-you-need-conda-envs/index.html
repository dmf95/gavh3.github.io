<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Why you need a conda environment, like now." /><meta property="og:locale" content="en" /><meta name="description" content="Before I start, I want to say that this is not a comprehensive guide to Python virtual environments. There are very good resources online already discerning between conda, pip, and virtualenv (see: The Definitive Guide to Conda Environments)" /><meta property="og:description" content="Before I start, I want to say that this is not a comprehensive guide to Python virtual environments. There are very good resources online already discerning between conda, pip, and virtualenv (see: The Definitive Guide to Conda Environments)" /><link rel="canonical" href="https://gavh3.github.io/posts/why-you-need-conda-envs/" /><meta property="og:url" content="https://gavh3.github.io/posts/why-you-need-conda-envs/" /><meta property="og:site_name" content="Gavin He" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-09-13T18:25:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Why you need a conda environment, like now." /><meta name="twitter:site" content="@hcmgavin" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"Before I start, I want to say that this is not a comprehensive guide to Python virtual environments. There are very good resources online already discerning between conda, pip, and virtualenv (see: The Definitive Guide to Conda Environments)","headline":"Why you need a conda environment, like now.","url":"https://gavh3.github.io/posts/why-you-need-conda-envs/","@type":"BlogPosting","dateModified":"2021-09-18T09:48:14-07:00","datePublished":"2021-09-13T18:25:00-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://gavh3.github.io/posts/why-you-need-conda-envs/"},"@context":"https://schema.org"}</script><title>Why you need a conda environment, like now. | Gavin He</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Gavin He"><meta name="application-name" content="Gavin He"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Gavin He</a></div><div class="site-subtitle font-italic">Fun with Analytics Engineering</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-projects ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/gavh3" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/hcmgavin" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/hegavin" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['gavin.hcm','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Why you need a conda environment, like now.</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Why you need a conda environment, like now.</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Gavin He </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Sep 13, 2021, 6:25 PM -0700" >Sep 13<i class="unloaded">2021-09-13T18:25:00-07:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sat, Sep 18, 2021, 9:48 AM -0700" >Sep 18<i class="unloaded">2021-09-18T09:48:14-07:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="568 words">3 min read</span></div></div><div class="post-content"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 427'%3E%3C/svg%3E" data-proofer-ignore data-src="/assets/img/matrixcode.jpg" class="preview-img" alt="it's all virtual." width="640" height="427"><p>Before I start, I want to say that this is not a comprehensive guide to Python virtual environments. There are very good resources online already discerning between conda, pip, and virtualenv (see: <a href="https://towardsdatascience.com/a-guide-to-conda-environments-bc6180fc533">The Definitive Guide to Conda Environments</a>)</p><p>Let me start off with a story of how I wasted an entire afternoon after corrupting my conda environment.</p><h4 id="how-i-ended-up-here">How I ended up here</h4><p>Recently, a Python package - <code class="language-plaintext highlighter-rouge">vaex</code> was brought to my attention. This library was everything we ever wanted to overcome a technical challenge at work. It’s actually pretty nifty and I would recommend checking out their <a href="https://vaex.io/docs/index.html">docs</a>. Long story short, it wasn’t the easiest to install on top of my already-bloated list of installed packages.</p><p>After Googling error message after error message and god knows how many pip installs I tried.. nothing. I had tried running so many random commands at this point that the next step is one that anyone with a remotely IT-related background would default to - blow it all up.</p><p>Since I hadn’t been disciplined to properly use environments, every project I’ve ever worked on was built on one aptly named “py3”. On top of the mess that remains of my py3 environment, none of my other project code worked. How I would have done it differently:</p><h4 id="creating-conda-environments">Creating conda environments</h4><p>Before diving into commands, let’s take a step back and talk a little about Anaconda. By default, Anaconda creates an environment called “base”. You’ll see this in brackets <code class="language-plaintext highlighter-rouge">()</code> whenever you open Anaconda Prompt. <code class="language-plaintext highlighter-rouge">base</code> contains the version of Python that was installed with Anaconda. I like to treat <code class="language-plaintext highlighter-rouge">base</code> as if it were sacred, and just avoid installing additional libraries directly to it.</p><p>If you navigate to <code class="language-plaintext highlighter-rouge">/your/anaconda/path/</code> on a new Anaconda install, you’ll find a empty folder called <code class="language-plaintext highlighter-rouge">envs</code>. Running <code class="language-plaintext highlighter-rouge">conda create -n YOUR_ENV_NAME</code> tells Anaconda to create a fresh environment into <code class="language-plaintext highlighter-rouge">envs</code>. At this point, the environment is entirely <strong>empty</strong> (no interpreter, no packages). By the way, a good rule of thumb is to create a new environment for each new project. You can also specify the version of Python that you want for this new environment by slightly modifying the command to <code class="language-plaintext highlighter-rouge">conda create -n YOUR_ENV_NAME python=X.X</code>. This method comes with Pip installed automatically inside the environment. Note that you can also create a new environment <a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#cloning-an-environment">based off of an existing environment</a>. Now, go ahead and install the packages for your project! Yay, you can now avoid needless package dependency conflicts. Please clap.</p><p>If you encounter <code class="language-plaintext highlighter-rouge">command not found: pip</code> in your new environment, running <code class="language-plaintext highlighter-rouge">conda install pip</code> should take care of it.</p><h4 id="deleting-existing-environments">Deleting existing environments</h4><p>Should you decide to part ways with your conda environment, first <strong>make sure it is deactivated</strong> by running <code class="language-plaintext highlighter-rouge">conda deactivate</code>. Then, it’s as simple as running <code class="language-plaintext highlighter-rouge">conda env remove -n YOUR_ENV_NAME</code>. This should automatically remove the folder inside <code class="language-plaintext highlighter-rouge">envs</code> for that environment, but if not, you can manually delete it if you want to reuse the name. Double check with <code class="language-plaintext highlighter-rouge">conda env list</code> that the environment you deleted is no longer listed.</p><p>So, recap thus far:</p><ul><li>Keep your <strong>base environment clean</strong><li>Use <code class="language-plaintext highlighter-rouge">conda create -n YOUR_ENV_NAME python=X.X</code> when possible. Install Pip immediately after if you’d rather leave out the <code class="language-plaintext highlighter-rouge">python=X.X</code> part<li>For each new project, make a new conda environment. It’s free to do!<li>To delete an environment, call <code class="language-plaintext highlighter-rouge">conda deactivate</code> and <code class="language-plaintext highlighter-rouge">conda env remove -n YOUR_ENV_NAME</code>. Confirm with <code class="language-plaintext highlighter-rouge">conda env list</code>.</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/python/'>Python</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a> <a href="/tags/conda/" class="post-tag no-text-decoration" >conda</a> <a href="/tags/virtual-environments/" class="post-tag no-text-decoration" >virtual environments</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Why you need a conda environment, like now. - Gavin He&url=https://gavh3.github.io/posts/why-you-need-conda-envs/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Why you need a conda environment, like now. - Gavin He&u=https://gavh3.github.io/posts/why-you-need-conda-envs/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Why you need a conda environment, like now. - Gavin He&url=https://gavh3.github.io/posts/why-you-need-conda-envs/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://gavh3.github.io/posts/why-you-need-conda-envs/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="" title-succeed=""> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/demystifying-the-python-arrow-notation/">Demystifying the Python arrow notation.</a><li><a href="/posts/why-you-need-conda-envs/">Why you need a conda environment, like now.</a><li><a href="/posts/refresh-gitignore-cache/">I've updated .gitignore but the files are still tracked, what's the deal?</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/conda/">conda</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/virtual-environments/">virtual environments</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/demystifying-the-python-arrow-notation/"><div class="card-body"> <span class="timeago small" >Sep 18<i class="unloaded">2021-09-18T00:00:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Demystifying the Python arrow notation.</h3><div class="text-muted small"><p> Occasionally I stumble upon something unusual but benign such that it warrants no more reaction than what’s elicited through scrolling r/hmmm. Let me introduce the Python function annotation. Anno...</p></div></div></a></div><div class="card"> <a href="/posts/refresh-gitignore-cache/"><div class="card-body"> <span class="timeago small" >Sep 11<i class="unloaded">2021-09-11T16:02:00-07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>I've updated .gitignore but the files are still tracked, what's the deal?</h3><div class="text-muted small"><p> So you’ve changed your project’s .gitignore after accidentally uploading the config file containing the password you use for everything that isn’t your online banking account. You hurriedly create...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/refresh-gitignore-cache/" class="btn btn-outline-primary" prompt="Older"><p>I've updated .gitignore but the files are still tracked, what's the deal?</p></a> <a href="/posts/demystifying-the-python-arrow-notation/" class="btn btn-outline-primary" prompt="Newer"><p>Demystifying the Python arrow notation.</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/hcmgavin">Gavin He</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/conda/">conda</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/virtual-environments/">virtual environments</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://gavh3.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
